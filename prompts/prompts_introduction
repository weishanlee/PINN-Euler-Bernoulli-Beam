### Prompt for Analyzing the Problem in the Competition PDF or Research Outline File  
(See the problem pdf or research outline file in the **"problem/"** folder)

**Role and Expertise**  
You are an expert in mathematical modeling, algorithm design, and scientific writing. Your task is to analyze the problem pdf or research outline file provided in the **"problem/"** folder and generate structured insights.

> **Special Note**  
> The following **Step 1** is **only** for your own chain of thoughts. **Do not** write anything related to Step 1 in your final output. Begin writing publicly **only** from Step 2 (Introduction Section).

---

#### Step 1: Problem Analysis *(Internal Reasoning Only)*
1. **Summarization of the Competition Problem**  
   ‚Ä¢ Provide a clear and concise summary of the problem.  
   ‚Ä¢ Identify the key challenges and objectives outlined in the problem.  

2. **Task Breakdown**  
   ‚Ä¢ Break down each part of the problem into subtasks.  
   ‚Ä¢ Highlight mathematical concepts involved in each subtask.  

3. **Solution Strategies**  
   ‚Ä¢ Propose detailed methodologies to solve the problem.  
   ‚Ä¢ Include relevant mathematical theorems, proofs, and formulae with explanations.  
   ‚Ä¢ If the problem requires algorithmic solutions, specify:  
     ‚ñ™ Algorithm type (e.g., optimization, numerical simulation).  
     ‚ñ™ Key parameters and justifications for their selection.  
     ‚ñ™ *Example*: If using a genetic algorithm, define:  
       ‚Ä¢ Population size  
       ‚Ä¢ Termination criteria (e.g., evolutionary generations)  
       ‚Ä¢ Crossover probability  
       ‚Ä¢ Mutation probability  

4. **Sensitivity Analysis**  
   ‚Ä¢ Discuss whether sensitivity analysis is necessary.  
   ‚Ä¢ Provide steps for conducting sensitivity analysis.  
   ‚Ä¢ Explain how to interpret its results effectively.  

5. **References**  
   ‚Ä¢ Follow the web scraping and verification process in `prompts/prompts_webScraping` and **ONLY** use references in `output/papers/`, `output/data/`, or user-provided `data/`, `codes/`, `papers/`. **Do NOT** cite anything else.  
   ‚Ä¢ Link each reference to the relevant methodologies or theorems mentioned.  
   ‚Ä¢ Name and briefly explain each theorem and its relevance.
   ‚Ä¢ **CRITICAL**: Every citation MUST have a verified PDF in output/papers/  

6. **Integration of Breakthrough Analysis** *(NEW)*
   ‚Ä¢ Review the findings from `output/research_gaps_analysis.md` and `output/breakthrough_proposal.md`
   ‚Ä¢ Incorporate the identified gaps and proposed innovation into your analysis
   ‚Ä¢ Connect the breakthrough approach to specific references

7. **Recommendations**  
   ‚Ä¢ Based on references in the folder **"output/papers/"** AND your breakthrough analysis, suggest the most appropriate theorems, models, or methods (or combinations thereof) to solve each component of the problem.  
   ‚Ä¢ Emphasize how your innovative approach addresses the identified gaps
   ‚Ä¢ Provide justifications based on the problem context.  

7. **Presentation & Formatting**  
   ‚Ä¢ Ensure a clear and logical structure for readability.  
   ‚Ä¢ Include both human-readable explanations and LaTeX code (except references).  
   ‚Ä¢ Place the LaTeX version in a separate section for future reuse.  

---

### Prompt for Writing the Introduction Section  

### üì¶ MANDATORY: Package Documentation
**At the TOP of introduction.tex, document ALL LaTeX packages required:**
```latex
% Package requirements for this section:
% - graphicx (if including any figures)
% - subcaption (if showing comparative figures)
% - hyperref (for citations and references)
```

**Common packages needed in Introduction:**
- `graphicx` - If showing problem overview diagrams
- `subcaption` - If comparing approaches visually
- `hyperref` - For proper citation links
- Usually fewer packages needed than Methods/Results

#### Step 2: Writing the Introduction Section  
Based on the analysis performed in Step 1, write the **Introduction** section for a research article. This section should fill approximately one A4 page and follow these requirements:

1. **Integrated Writing Style**  
   ‚Ä¢ Do **not** separate or label subsections explicitly.  
   ‚Ä¢ For journal papers: Write as continuous paragraphs WITHOUT \subsection{} commands
   ‚Ä¢ For competition papers: Use subsections as shown in template1
   ‚Ä¢ Maintain a natural academic flow.
   ‚Ä¢ **FOR JOURNAL PAPERS**: Use scientific narrative prose, NOT bullet points
   ‚Ä¢ See `prompts/prompts_writing_style_journal` for narrative flow guidance  

2. **Public Interest & Problem Relevance (‚âà 100 Words)**  
   ‚Ä¢ Start with a compelling introduction to capture public interest.  
   ‚Ä¢ Explain the real-world importance of the problem.  

3. **Restatement of Models & Approaches**  
   ‚Ä¢ Clearly restate the models and approaches analyzed in Step 1.  
   ‚Ä¢ Highlight their role in solving the problem.  

4. **Literature Integration with Breakthrough Focus** *(UPDATED)*
   ‚Ä¢ Integrate nearly every paper found in the **`papers/`** subfolder that relates to the models and their applications.  
   ‚Ä¢ Justify the research by demonstrating its necessity and the reliability of chosen methods.  
   
   ### üî¥ MANDATORY: Sentence-Level Verification
   **EVERY SENTENCE in this section must be verified:**
   - ‚úì **Literature-Based Claims**: Must cite specific paper with page/section reference
   - ‚úì **Research Gap Claims**: Must reference specific limitations found in papers
   - ‚úì **Problem Statements**: Must trace to problem PDF or specific sources
   - ‚úì **Methodological Claims**: Must cite papers using those methods
   - ‚úì **Comparative Statements**: Must have evidence from cited works
   
   **VERIFICATION PROCESS:**
   - For EVERY sentence, ask: "What is the source of this claim?"
   - Document the source in a comment: `% Source: [paper2023, p.45]`
   - If no source exists, DELETE the sentence
   
   **PROHIBITED CONTENT:**
   - ‚ùå Fabricated data or results
   - ‚ùå Straight-faced nonsense (plausible-sounding but false statements)
   - ‚ùå Bare-faced lies (obvious falsehoods)
   - ‚ùå Hallucinated statements (made-up facts or citations)
   - ‚ùå Unsupported generalizations
   - ‚ùå Exaggerated claims without evidence
   
   ‚Ä¢ **Significance**: Explain why the research problem remains unresolved.  
   ‚Ä¢ **Relevant Literature**: Reference key studies, tools, findings, and methodologies.  
   ‚Ä¢ **Methodological Insights**: Identify techniques from related or unrelated fields that could be adapted.  
   ‚Ä¢ You may use author-prominent or information-prominent styles.  
   ‚Ä¢ Use in-text citations in LaTeX format (e.g., `\cite{authoryear}`).  
   ‚Ä¢ Discuss:  
     ‚ó¶ *Literature Review*: Focus on related research and methodologies.  
     ‚ó¶ *Critique*: **CRITICAL - Use findings from `output/research_gaps_analysis.md`**
       - Address the 10+ limitations and gaps identified in your breakthrough analysis
       - Explain what has been overlooked and why these gaps are significant
       - Reference specific papers that demonstrate these limitations
       - Build the case for why your innovative approach is necessary  

5. **Proposed Solution with Innovation** *(UPDATED)*
   ‚Ä¢ Present your breakthrough approach from `output/breakthrough_proposal.md`
   ‚Ä¢ Explain how it combines/extends existing methods in novel ways
   ‚Ä¢ Emphasize how it specifically addresses the gaps identified in literature
   ‚Ä¢ Provide a high-level overview (save detailed math for Methods section)
   ‚Ä¢ Justify why this innovative approach is superior to existing methods  

6. **References Formatting**  
   ‚Ä¢ Provide all citations in **.bib** format.  
   ‚Ä¢ Include:  
     ‚ó¶ Author, title, journal, year, volume, pages, DOI.  
     ‚ó¶ A commented-out URL for verification.  
   ‚Ä¢ Ensure references are genuine and properly formatted.  

7. **Academic Tone & Style**  
   ‚Ä¢ Maintain a formal, academic tone.  
   ‚Ä¢ Use precise, coherent, and professional language.  
   ‚Ä¢ Avoid author-prominent phrases (e.g., ‚ÄúAhmed and Verma (2023)‚Äù); instead, place citation markers immediately after the relevant text (e.g., `\cite{authoryear}`).  

8. **Output Format (Templates)**  

<template1>  
*(For a Mathematical Modeling Competition Project)*  
```latex
\section{Introduction}

\subsection{Problem Background and Overview}
This is where ‚ÄúPublic Interest & Problem Relevance (100 Words)‚Äù should be placed.

\subsection{Literature Review}
This is where ‚ÄúLiterature Integration‚Äù should be placed.

\subsection{Critics on Previous Works}
This is where ‚ÄúCritique‚Äù should be placed.

\subsection{Restatement of the Problem}
Restatement of the problem given in the contest pdf file.

\subsection{Statement of Purpose and Our Strategy on the Problem}
This is where ‚ÄúRestatement of Models & Approaches‚Äù should be placed.
</template1>

<template2>
*(For a peer-reviewed journal paper)*
\section{Introduction}
% IMPORTANT: NO SUBSECTIONS ALLOWED IN JOURNAL PAPERS
% Write everything as continuous paragraphs within this single section
% Flow naturally from topic to topic without \subsection{} commands
</template2>

**‚ö†Ô∏è CRITICAL FORMAT EXAMPLES:**

% WRONG for journal paper:
\section{Introduction}
\subsection{Background}  % ‚ùå NO!
Text here...

% CORRECT for journal paper:
\section{Introduction}
The rapid advancement of machine learning techniques has revolutionized... (directly start with content)
Recent studies have shown... (continue with smooth transitions)

% CORRECT for competition paper:
\section{Introduction}
\subsection{Problem Background and Overview}  % ‚úì YES!
The optimization of urban traffic flow represents...

---

### üîç Introduction Section Double-Check Protocol

**MANDATORY: Run these checks before proceeding:**

1. **Citation Verification Script**
   ```python
   # verify_intro_citations.py
   import re
   from pathlib import Path
   
   def verify_all_citations():
       errors = []
       
       # Extract citations from introduction.tex
       intro_content = Path("output/introduction.tex").read_text()
       citations = re.findall(r'\\cite{([^}]+)}', intro_content)
       
       # Extract all citation keys
       all_keys = []
       for cite_group in citations:
           keys = [k.strip() for k in cite_group.split(',')]
           all_keys.extend(keys)
       
       # Check each citation has a PDF
       for key in all_keys:
           pdf_found = False
           for pdf in Path("output/papers").rglob("*.pdf"):
               if key.lower() in pdf.name.lower():
                   pdf_found = True
                   break
           
           if not pdf_found:
               errors.append(f"No PDF found for citation: {key}")
       
       # Check all citations are in ref.bib
       bib_content = Path("output/ref.bib").read_text()
       for key in all_keys:
           if f"@article{{{key}" not in bib_content and \
              f"@inproceedings{{{key}" not in bib_content and \
              f"@book{{{key}" not in bib_content:
               errors.append(f"Citation {key} not in ref.bib")
       
       if errors:
           print("‚ùå Citation verification FAILED:")
           for error in errors:
               print(f"  - {error}")
           return False
       
       print(f"‚úÖ All {len(all_keys)} citations verified")
       return True
   
   if __name__ == "__main__":
       if not verify_all_citations():
           exit(1)
   ```

2. **Content Verification Checklist**
   - [ ] Problem correctly restated from problem PDF
   - [ ] All 5 Ps covered (if competition)
   - [ ] Literature review matches downloaded papers
   - [ ] No hallucinated references
   - [ ] Recommendations align with available methods

3. **Cross-Reference Check**
   - [ ] Methods mentioned here are implemented later
   - [ ] No promises made that aren't fulfilled
   - [ ] Consistent terminology throughout

**DO NOT proceed if any verification fails!**

### MANDATORY: Section Review Checklist
After completing the introduction.tex, append this checklist template:

```latex
%% ========== SECTION REVIEW CHECKLIST ==========
%% Introduction Section Checklist:
%% 
%% Review Items:
%% - Problem statement is accurately captured
%% - Literature review covers relevant papers  
%% - All citations have corresponding PDFs in output/papers/
%% - Research gap is clearly identified
%% - Proposed approach is well motivated
%% - Writing flows logically
%% - No grammatical errors or typos
%% 
%% Specific Questions:
%% 1. Does the introduction adequately motivate why the [SPECIFIC PROBLEM NAME]
%%    is important?
%% 2. Are there any key papers or methods that should be added to the literature
%%    review?
%% 3. Is the research gap clearly articulated?
%% 4. Does the proposed [SPECIFIC APPROACH] align with what you
%%    want to implement?
%% 
%% Key Updates Made:
%% - Fixed [any citation issues if applicable]
%% - Used [template name] template matching main.pdf
%% - Included [X] citations covering [list main topics]
%% - Focused on [specific problem aspects]
%% 
%% Current Status:
%% - [X]-page PDF with proper bibliography
%% - All citations verified to have corresponding papers
%% - Follows [competition/journal] format
%% ========== END SECTION REVIEW CHECKLIST ==========
```

Also add a visible version for the PDF:
```latex
\clearpage
\section*{Review Checklist}
\begin{small}
\begin{verbatim}
[Insert the checklist content without %% comment marks]
\end{verbatim}
\end{small}
```

### MANDATORY: Include Automated Verification Summary (FOR REVIEW PDFs ONLY)
**IMPORTANT**: This verification summary is ONLY for review PDFs, NOT for the final main.pdf!
After the review checklist, include the verification summary:

```latex
\section*{Reference Verification Summary}
\begin{small}
\begin{verbatim}
Automated Verification Report
=============================
Total papers attempted: [Load from verification_db.json]
Successfully verified: [X] ([Y]%)
Automatically excluded: [Z]

All papers were automatically verified for:
- Title match (‚â•80% similarity required)
- Author match (at least one author must match)
- Domain relevance (abstract keywords checked)
- Correct field (no unrelated papers)

Papers that failed verification were automatically excluded.
Full details available in output/verification_db.json
\end{verbatim}
\end{small}
```

This summary allows the user to review all verification decisions in the final introduction PDF without being interrupted during the process.

### üõë STOP: Compile Section PDF Before Proceeding

‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ üõë MANDATORY: COMPILE INTRODUCTION PDF NOW! üõë                  ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò

**MANDATORY FINAL STEPS:**
1. ‚úÖ Verify all citations have PDFs or are marked as verified
2. ‚úÖ Ensure review checklist is appended to introduction.tex
3. ‚úÖ Run extract_intro_citations.py to create introduction_refs.bib
4. ‚úÖ Create introduction_wrapper.tex using **SINGLE-COLUMN FORMAT**
5. ‚úÖ Compile introduction_v1.pdf using:
   ```bash
   cd output
   # Extract citations specific to introduction
   ~/.venv/ml_31123121/bin/python extract_intro_citations.py
   
   # Create SINGLE-COLUMN wrapper file (NOT from template)
   cat > introduction_wrapper.tex << 'EOF'
   \documentclass[12pt,a4paper]{article}
   \usepackage{geometry}
   \geometry{a4paper, left=2.5cm, right=2.5cm, top=2.5cm, bottom=2.5cm}
   \usepackage{times}
   \usepackage{graphicx}
   \usepackage{amsmath}
   \usepackage{hyperref}
   \begin{document}
   \title{Introduction Section Review\\
   \large (Single-Column Version for Easy Review)}
   \author{Draft Version}
   \date{\today}
   \maketitle
   \input{introduction}
   \bibliographystyle{ieee}
   \bibliography{introduction_refs}
   \end{document}
   EOF
   
   # Compile PDF
   pdflatex introduction_wrapper
   bibtex introduction_wrapper  
   pdflatex introduction_wrapper
   pdflatex introduction_wrapper
   mv introduction_wrapper.pdf introduction_v1.pdf
   
   # Verify PDF exists and open it
   ls -la introduction_v1.pdf
   evince introduction_v1.pdf &
   ```
6. ‚úÖ Present PDF to user with summary:

```
üìÑ Introduction Section Ready for Review
‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ
File: introduction_v1.pdf
Format: SINGLE-COLUMN (for easy review)
Pages: [X]
Citations: [Y] (Z with PDFs, W verified without PDFs)
Review checklist: Included
Verification summary: Included

Key topics covered:
- [Topic 1]
- [Topic 2]
- [Topic 3]

Proposed approach: [Brief description]
‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ

Please review the introduction section and let me know if any revisions are needed.
```

**‚ö†Ô∏è DO NOT PROCEED TO METHODS SECTION WITHOUT USER APPROVAL!**

### ‚ö†Ô∏è REMINDER: Follow Incremental Workflow
This section is part of the INCREMENTAL PDF compilation workflow.
See `prompts_incremental_workflow` for mandatory compilation steps.
You MUST compile this section's PDF before proceeding!
